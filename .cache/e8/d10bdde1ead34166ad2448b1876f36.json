{"id":"Q9qC","dependencies":[{"name":"C:\\Users\\1605707\\Desktop\\api_test\\package.json","includedInParent":true,"mtime":1563833540041},{"name":"interactjs","loc":{"line":1,"column":21},"parent":"C:\\Users\\1605707\\Desktop\\api_test\\interactTest.js","resolved":"C:\\Users\\1605707\\Desktop\\api_test\\node_modules\\interactjs\\dist\\interact.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.PhotoInteract=o;var e=t(require(\"interactjs\"));function t(e){return e&&e.__esModule?e:{default:e}}var n={angle:0,scale:1},a=document.getElementsByClassName(\"gesture-area\"),l=document.getElementsByClassName(\"scale-element\");function o(){for(var t=function(t){console.log(\"running\");var o=a[t],c=l[t];(0,e.default)(o).gesturable({onstart:function(e){n.angle-=e.angle},onmove:function(e){s(e,c)},onend:function(e){n.angle=n.angle+e.angle,n.scale=n.scale*e.scale}}).draggable({onstart:function(e){n.angle-=event.angle},onmove:function(e){r(e)},onend:function(e){n.angle=n.angle+event.angle,n.scale=n.scale*event.scale}})},o=0;o<a.length;o++)t(o)}function s(e,t){console.log(\"running resizeElement\");var a=e.angle+n.angle,l=e.scale*n.scale;t.style.webkitTransform=t.style.transform=\"rotate(\"+a+\"deg)scale(\"+l+\")\",r(e)}function r(e){var t=e.target,n=!1,a=t.children[0],l=(parseFloat(t.getAttribute(\"data-x\"))||0)+e.dx,o=(parseFloat(t.getAttribute(\"data-y\"))||0)+e.dy;a.addEventListener(\"keydown\",function(e){17===(e.which||e.keyCode)&&(console.log(\"in here\"),n=!0)}),n?(console.log(\"pressing ctrl\"),t.style.webkitTransform=t.style.transform=\"scale(\".concat(l,\")\")):(console.log(\"not pressing ctrl\"),t.style.webkitTransform=t.style.transform=\"translate(\"+l+\"px, \"+o+\"px)\"),t.setAttribute(\"data-x\",l),t.setAttribute(\"data-y\",o)}window.dragMoveListener=r;"},"sourceMaps":{"js":{"mappings":[{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":0}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":13}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":20}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":35}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":43}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":56}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":57}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":64}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":68}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":76}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":90}},{"source":"interactTest.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"interactTest.js","original":{"line":1,"column":0},"generated":{"line":1,"column":96}},{"source":"interactTest.js","original":{"line":1,"column":0},"generated":{"line":1,"column":98}},{"source":"interactTest.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"interactTest.js","original":{"line":1,"column":0},"generated":{"line":1,"column":108}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":123}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":132}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":134}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":137}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":144}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":147}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":149}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":160}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":162}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":163}},{"source":"interactTest.js","original":{"line":140,"column":0},"generated":{"line":1,"column":171}},{"source":"interactTest.js","original":{"line":3,"column":0},"generated":{"line":1,"column":174}},{"source":"interactTest.js","name":"angleScale","original":{"line":3,"column":4},"generated":{"line":1,"column":178}},{"source":"interactTest.js","original":{"line":3,"column":17},"generated":{"line":1,"column":180}},{"source":"interactTest.js","name":"angle","original":{"line":4,"column":2},"generated":{"line":1,"column":181}},{"source":"interactTest.js","original":{"line":4,"column":9},"generated":{"line":1,"column":187}},{"source":"interactTest.js","name":"scale","original":{"line":5,"column":2},"generated":{"line":1,"column":189}},{"source":"interactTest.js","original":{"line":5,"column":9},"generated":{"line":1,"column":195}},{"source":"interactTest.js","name":"gestureAreas","original":{"line":8,"column":4},"generated":{"line":1,"column":198}},{"source":"interactTest.js","name":"document","original":{"line":8,"column":19},"generated":{"line":1,"column":200}},{"source":"interactTest.js","name":"getElementsByClassName","original":{"line":8,"column":28},"generated":{"line":1,"column":209}},{"source":"interactTest.js","original":{"line":8,"column":0},"generated":{"line":1,"column":232}},{"source":"interactTest.js","name":"scaleElements","original":{"line":9,"column":4},"generated":{"line":1,"column":248}},{"source":"interactTest.js","name":"document","original":{"line":9,"column":20},"generated":{"line":1,"column":250}},{"source":"interactTest.js","name":"getElementsByClassName","original":{"line":9,"column":29},"generated":{"line":1,"column":259}},{"source":"interactTest.js","original":{"line":9,"column":0},"generated":{"line":1,"column":282}},{"source":"interactTest.js","original":{"line":20,"column":7},"generated":{"line":1,"column":299}},{"source":"interactTest.js","name":"PhotoInteract","original":{"line":20,"column":16},"generated":{"line":1,"column":308}},{"source":"interactTest.js","original":{"line":21,"column":7},"generated":{"line":1,"column":312}},{"source":"interactTest.js","name":"i","original":{"line":21,"column":11},"generated":{"line":1,"column":316}},{"source":"interactTest.js","name":"i","original":{"line":21,"column":11},"generated":{"line":1,"column":320}},{"source":"interactTest.js","name":"i","original":{"line":21,"column":11},"generated":{"line":1,"column":322}},{"source":"interactTest.js","name":"i","original":{"line":21,"column":11},"generated":{"line":1,"column":331}},{"source":"interactTest.js","name":"console","original":{"line":22,"column":4},"generated":{"line":1,"column":334}},{"source":"interactTest.js","name":"log","original":{"line":22,"column":12},"generated":{"line":1,"column":342}},{"source":"interactTest.js","original":{"line":22,"column":16},"generated":{"line":1,"column":346}},{"source":"interactTest.js","name":"gestureArea","original":{"line":23,"column":8},"generated":{"line":1,"column":357}},{"source":"interactTest.js","name":"gestureArea","original":{"line":23,"column":8},"generated":{"line":1,"column":361}},{"source":"interactTest.js","name":"gestureAreas","original":{"line":23,"column":22},"generated":{"line":1,"column":363}},{"source":"interactTest.js","name":"i","original":{"line":23,"column":35},"generated":{"line":1,"column":365}},{"source":"interactTest.js","name":"scaleElement","original":{"line":24,"column":8},"generated":{"line":1,"column":368}},{"source":"interactTest.js","name":"scaleElements","original":{"line":24,"column":23},"generated":{"line":1,"column":370}},{"source":"interactTest.js","name":"i","original":{"line":24,"column":37},"generated":{"line":1,"column":372}},{"source":"interactTest.js","name":"gestureArea","original":{"line":25,"column":13},"generated":{"line":1,"column":376}},{"source":"interactTest.js","name":"gestureArea","original":{"line":25,"column":13},"generated":{"line":1,"column":378}},{"source":"interactTest.js","name":"gestureArea","original":{"line":25,"column":13},"generated":{"line":1,"column":380}},{"source":"interactTest.js","name":"gestureArea","original":{"line":25,"column":13},"generated":{"line":1,"column":389}},{"source":"interactTest.js","name":"gesturable","original":{"line":26,"column":5},"generated":{"line":1,"column":392}},{"source":"interactTest.js","original":{"line":26,"column":16},"generated":{"line":1,"column":403}},{"source":"interactTest.js","name":"onstart","original":{"line":27,"column":6},"generated":{"line":1,"column":404}},{"source":"interactTest.js","original":{"line":27,"column":15},"generated":{"line":1,"column":412}},{"source":"interactTest.js","name":"event","original":{"line":27,"column":25},"generated":{"line":1,"column":421}},{"source":"interactTest.js","name":"angleScale","original":{"line":28,"column":8},"generated":{"line":1,"column":424}},{"source":"interactTest.js","name":"angle","original":{"line":28,"column":19},"generated":{"line":1,"column":426}},{"source":"interactTest.js","name":"event","original":{"line":28,"column":28},"generated":{"line":1,"column":433}},{"source":"interactTest.js","name":"angle","original":{"line":28,"column":34},"generated":{"line":1,"column":435}},{"source":"interactTest.js","name":"onmove","original":{"line":30,"column":6},"generated":{"line":1,"column":442}},{"source":"interactTest.js","original":{"line":30,"column":14},"generated":{"line":1,"column":449}},{"source":"interactTest.js","name":"event","original":{"line":30,"column":24},"generated":{"line":1,"column":458}},{"source":"interactTest.js","name":"resizeElement","original":{"line":31,"column":8},"generated":{"line":1,"column":461}},{"source":"interactTest.js","name":"event","original":{"line":31,"column":22},"generated":{"line":1,"column":463}},{"source":"interactTest.js","name":"scaleElement","original":{"line":31,"column":29},"generated":{"line":1,"column":465}},{"source":"interactTest.js","name":"onend","original":{"line":33,"column":6},"generated":{"line":1,"column":469}},{"source":"interactTest.js","original":{"line":33,"column":13},"generated":{"line":1,"column":475}},{"source":"interactTest.js","name":"event","original":{"line":33,"column":23},"generated":{"line":1,"column":484}},{"source":"interactTest.js","name":"angleScale","original":{"line":34,"column":8},"generated":{"line":1,"column":487}},{"source":"interactTest.js","name":"angle","original":{"line":34,"column":19},"generated":{"line":1,"column":489}},{"source":"interactTest.js","name":"angleScale","original":{"line":34,"column":27},"generated":{"line":1,"column":495}},{"source":"interactTest.js","name":"angle","original":{"line":34,"column":38},"generated":{"line":1,"column":497}},{"source":"interactTest.js","name":"event","original":{"line":34,"column":46},"generated":{"line":1,"column":503}},{"source":"interactTest.js","name":"angle","original":{"line":34,"column":52},"generated":{"line":1,"column":505}},{"source":"interactTest.js","name":"angleScale","original":{"line":35,"column":8},"generated":{"line":1,"column":511}},{"source":"interactTest.js","name":"scale","original":{"line":35,"column":19},"generated":{"line":1,"column":513}},{"source":"interactTest.js","name":"angleScale","original":{"line":35,"column":27},"generated":{"line":1,"column":519}},{"source":"interactTest.js","name":"scale","original":{"line":35,"column":38},"generated":{"line":1,"column":521}},{"source":"interactTest.js","name":"event","original":{"line":35,"column":46},"generated":{"line":1,"column":527}},{"source":"interactTest.js","name":"scale","original":{"line":35,"column":52},"generated":{"line":1,"column":529}},{"source":"interactTest.js","name":"draggable","original":{"line":38,"column":5},"generated":{"line":1,"column":538}},{"source":"interactTest.js","original":{"line":38,"column":15},"generated":{"line":1,"column":548}},{"source":"interactTest.js","name":"onstart","original":{"line":40,"column":6},"generated":{"line":1,"column":549}},{"source":"interactTest.js","original":{"line":40,"column":15},"generated":{"line":1,"column":557}},{"source":"interactTest.js","name":"e","original":{"line":40,"column":15},"generated":{"line":1,"column":566}},{"source":"interactTest.js","name":"angleScale","original":{"line":41,"column":8},"generated":{"line":1,"column":569}},{"source":"interactTest.js","name":"angle","original":{"line":41,"column":19},"generated":{"line":1,"column":571}},{"source":"interactTest.js","name":"event","original":{"line":41,"column":28},"generated":{"line":1,"column":578}},{"source":"interactTest.js","name":"angle","original":{"line":41,"column":34},"generated":{"line":1,"column":584}},{"source":"interactTest.js","name":"onmove","original":{"line":43,"column":6},"generated":{"line":1,"column":591}},{"source":"interactTest.js","original":{"line":43,"column":14},"generated":{"line":1,"column":598}},{"source":"interactTest.js","name":"event","original":{"line":43,"column":14},"generated":{"line":1,"column":607}},{"source":"interactTest.js","name":"dragMoveListener","original":{"line":48,"column":8},"generated":{"line":1,"column":610}},{"source":"interactTest.js","name":"event","original":{"line":48,"column":25},"generated":{"line":1,"column":612}},{"source":"interactTest.js","name":"onend","original":{"line":50,"column":6},"generated":{"line":1,"column":616}},{"source":"interactTest.js","original":{"line":50,"column":13},"generated":{"line":1,"column":622}},{"source":"interactTest.js","name":"e","original":{"line":50,"column":13},"generated":{"line":1,"column":631}},{"source":"interactTest.js","name":"angleScale","original":{"line":51,"column":8},"generated":{"line":1,"column":634}},{"source":"interactTest.js","name":"angle","original":{"line":51,"column":19},"generated":{"line":1,"column":636}},{"source":"interactTest.js","name":"angleScale","original":{"line":51,"column":27},"generated":{"line":1,"column":642}},{"source":"interactTest.js","name":"angle","original":{"line":51,"column":38},"generated":{"line":1,"column":644}},{"source":"interactTest.js","name":"event","original":{"line":51,"column":46},"generated":{"line":1,"column":650}},{"source":"interactTest.js","name":"angle","original":{"line":51,"column":52},"generated":{"line":1,"column":656}},{"source":"interactTest.js","name":"angleScale","original":{"line":52,"column":8},"generated":{"line":1,"column":662}},{"source":"interactTest.js","name":"scale","original":{"line":52,"column":19},"generated":{"line":1,"column":664}},{"source":"interactTest.js","name":"angleScale","original":{"line":52,"column":27},"generated":{"line":1,"column":670}},{"source":"interactTest.js","name":"scale","original":{"line":52,"column":38},"generated":{"line":1,"column":672}},{"source":"interactTest.js","name":"event","original":{"line":52,"column":46},"generated":{"line":1,"column":678}},{"source":"interactTest.js","name":"scale","original":{"line":52,"column":52},"generated":{"line":1,"column":684}},{"source":"interactTest.js","name":"i","original":{"line":21,"column":11},"generated":{"line":1,"column":694}},{"source":"interactTest.js","original":{"line":21,"column":15},"generated":{"line":1,"column":696}},{"source":"interactTest.js","name":"i","original":{"line":21,"column":18},"generated":{"line":1,"column":698}},{"source":"interactTest.js","name":"gestureAreas","original":{"line":21,"column":22},"generated":{"line":1,"column":700}},{"source":"interactTest.js","name":"length","original":{"line":21,"column":35},"generated":{"line":1,"column":702}},{"source":"interactTest.js","name":"i","original":{"line":21,"column":43},"generated":{"line":1,"column":709}},{"source":"interactTest.js","name":"i","original":{"line":21,"column":11},"generated":{"line":1,"column":713}},{"source":"interactTest.js","name":"i","original":{"line":21,"column":11},"generated":{"line":1,"column":715}},{"source":"interactTest.js","original":{"line":86,"column":0},"generated":{"line":1,"column":718}},{"source":"interactTest.js","name":"resizeElement","original":{"line":86,"column":9},"generated":{"line":1,"column":727}},{"source":"interactTest.js","name":"event","original":{"line":86,"column":24},"generated":{"line":1,"column":729}},{"source":"interactTest.js","name":"scaleElmnt","original":{"line":86,"column":31},"generated":{"line":1,"column":731}},{"source":"interactTest.js","name":"console","original":{"line":89,"column":2},"generated":{"line":1,"column":734}},{"source":"interactTest.js","name":"log","original":{"line":89,"column":10},"generated":{"line":1,"column":742}},{"source":"interactTest.js","original":{"line":89,"column":14},"generated":{"line":1,"column":746}},{"source":"interactTest.js","name":"currentAngle","original":{"line":90,"column":6},"generated":{"line":1,"column":771}},{"source":"interactTest.js","name":"currentAngle","original":{"line":90,"column":6},"generated":{"line":1,"column":775}},{"source":"interactTest.js","name":"event","original":{"line":90,"column":21},"generated":{"line":1,"column":777}},{"source":"interactTest.js","name":"angle","original":{"line":90,"column":27},"generated":{"line":1,"column":779}},{"source":"interactTest.js","name":"angleScale","original":{"line":90,"column":35},"generated":{"line":1,"column":785}},{"source":"interactTest.js","name":"angle","original":{"line":90,"column":46},"generated":{"line":1,"column":787}},{"source":"interactTest.js","name":"currentScale","original":{"line":91,"column":6},"generated":{"line":1,"column":793}},{"source":"interactTest.js","name":"event","original":{"line":91,"column":21},"generated":{"line":1,"column":795}},{"source":"interactTest.js","name":"scale","original":{"line":91,"column":27},"generated":{"line":1,"column":797}},{"source":"interactTest.js","name":"angleScale","original":{"line":91,"column":35},"generated":{"line":1,"column":803}},{"source":"interactTest.js","name":"scale","original":{"line":91,"column":46},"generated":{"line":1,"column":805}},{"source":"interactTest.js","name":"scaleElmnt","original":{"line":93,"column":2},"generated":{"line":1,"column":811}},{"source":"interactTest.js","name":"style","original":{"line":93,"column":13},"generated":{"line":1,"column":813}},{"source":"interactTest.js","name":"webkitTransform","original":{"line":93,"column":19},"generated":{"line":1,"column":819}},{"source":"interactTest.js","name":"scaleElmnt","original":{"line":94,"column":2},"generated":{"line":1,"column":835}},{"source":"interactTest.js","name":"style","original":{"line":94,"column":13},"generated":{"line":1,"column":837}},{"source":"interactTest.js","name":"transform","original":{"line":94,"column":19},"generated":{"line":1,"column":843}},{"source":"interactTest.js","original":{"line":95,"column":4},"generated":{"line":1,"column":853}},{"source":"interactTest.js","name":"currentAngle","original":{"line":95,"column":16},"generated":{"line":1,"column":863}},{"source":"interactTest.js","original":{"line":95,"column":31},"generated":{"line":1,"column":865}},{"source":"interactTest.js","name":"currentScale","original":{"line":95,"column":51},"generated":{"line":1,"column":878}},{"source":"interactTest.js","original":{"line":95,"column":66},"generated":{"line":1,"column":880}},{"source":"interactTest.js","name":"dragMoveListener","original":{"line":99,"column":2},"generated":{"line":1,"column":884}},{"source":"interactTest.js","name":"event","original":{"line":99,"column":19},"generated":{"line":1,"column":886}},{"source":"interactTest.js","original":{"line":102,"column":0},"generated":{"line":1,"column":889}},{"source":"interactTest.js","name":"dragMoveListener","original":{"line":102,"column":9},"generated":{"line":1,"column":898}},{"source":"interactTest.js","name":"event","original":{"line":102,"column":27},"generated":{"line":1,"column":900}},{"source":"interactTest.js","name":"target","original":{"line":103,"column":6},"generated":{"line":1,"column":903}},{"source":"interactTest.js","name":"target","original":{"line":103,"column":6},"generated":{"line":1,"column":907}},{"source":"interactTest.js","name":"event","original":{"line":103,"column":15},"generated":{"line":1,"column":909}},{"source":"interactTest.js","name":"target","original":{"line":103,"column":21},"generated":{"line":1,"column":911}},{"source":"interactTest.js","name":"pressingCtrl","original":{"line":104,"column":6},"generated":{"line":1,"column":918}},{"source":"interactTest.js","original":{"line":104,"column":21},"generated":{"line":1,"column":921}},{"source":"interactTest.js","name":"child","original":{"line":106,"column":6},"generated":{"line":1,"column":923}},{"source":"interactTest.js","name":"target","original":{"line":106,"column":14},"generated":{"line":1,"column":925}},{"source":"interactTest.js","name":"children","original":{"line":106,"column":21},"generated":{"line":1,"column":927}},{"source":"interactTest.js","original":{"line":106,"column":30},"generated":{"line":1,"column":936}},{"source":"interactTest.js","name":"x","original":{"line":108,"column":6},"generated":{"line":1,"column":939}},{"source":"interactTest.js","name":"parseFloat","original":{"line":108,"column":11},"generated":{"line":1,"column":942}},{"source":"interactTest.js","name":"target","original":{"line":108,"column":22},"generated":{"line":1,"column":953}},{"source":"interactTest.js","name":"getAttribute","original":{"line":108,"column":29},"generated":{"line":1,"column":955}},{"source":"interactTest.js","original":{"line":108,"column":42},"generated":{"line":1,"column":968}},{"source":"interactTest.js","original":{"line":108,"column":56},"generated":{"line":1,"column":980}},{"source":"interactTest.js","name":"event","original":{"line":108,"column":61},"generated":{"line":1,"column":983}},{"source":"interactTest.js","name":"dx","original":{"line":108,"column":67},"generated":{"line":1,"column":985}},{"source":"interactTest.js","name":"y","original":{"line":109,"column":6},"generated":{"line":1,"column":988}},{"source":"interactTest.js","name":"parseFloat","original":{"line":109,"column":11},"generated":{"line":1,"column":991}},{"source":"interactTest.js","name":"target","original":{"line":109,"column":22},"generated":{"line":1,"column":1002}},{"source":"interactTest.js","name":"getAttribute","original":{"line":109,"column":29},"generated":{"line":1,"column":1004}},{"source":"interactTest.js","original":{"line":109,"column":42},"generated":{"line":1,"column":1017}},{"source":"interactTest.js","original":{"line":109,"column":56},"generated":{"line":1,"column":1029}},{"source":"interactTest.js","name":"event","original":{"line":109,"column":61},"generated":{"line":1,"column":1032}},{"source":"interactTest.js","name":"dy","original":{"line":109,"column":67},"generated":{"line":1,"column":1034}},{"source":"interactTest.js","name":"child","original":{"line":112,"column":2},"generated":{"line":1,"column":1037}},{"source":"interactTest.js","name":"addEventListener","original":{"line":112,"column":8},"generated":{"line":1,"column":1039}},{"source":"interactTest.js","original":{"line":112,"column":25},"generated":{"line":1,"column":1056}},{"source":"interactTest.js","original":{"line":112,"column":36},"generated":{"line":1,"column":1066}},{"source":"interactTest.js","name":"e","original":{"line":112,"column":36},"generated":{"line":1,"column":1075}},{"source":"interactTest.js","original":{"line":114,"column":16},"generated":{"line":1,"column":1078}},{"source":"interactTest.js","name":"e","original":{"line":113,"column":14},"generated":{"line":1,"column":1084}},{"source":"interactTest.js","name":"which","original":{"line":113,"column":16},"generated":{"line":1,"column":1086}},{"source":"interactTest.js","name":"e","original":{"line":113,"column":25},"generated":{"line":1,"column":1093}},{"source":"interactTest.js","name":"keyCode","original":{"line":113,"column":27},"generated":{"line":1,"column":1095}},{"source":"interactTest.js","name":"console","original":{"line":114,"column":21},"generated":{"line":1,"column":1106}},{"source":"interactTest.js","name":"log","original":{"line":114,"column":29},"generated":{"line":1,"column":1114}},{"source":"interactTest.js","original":{"line":114,"column":33},"generated":{"line":1,"column":1118}},{"source":"interactTest.js","name":"pressingCtrl","original":{"line":114,"column":45},"generated":{"line":1,"column":1129}},{"source":"interactTest.js","original":{"line":114,"column":60},"generated":{"line":1,"column":1132}},{"source":"interactTest.js","name":"pressingCtrl","original":{"line":117,"column":6},"generated":{"line":1,"column":1137}},{"source":"interactTest.js","name":"console","original":{"line":118,"column":4},"generated":{"line":1,"column":1140}},{"source":"interactTest.js","name":"log","original":{"line":118,"column":12},"generated":{"line":1,"column":1148}},{"source":"interactTest.js","original":{"line":118,"column":16},"generated":{"line":1,"column":1152}},{"source":"interactTest.js","name":"target","original":{"line":119,"column":4},"generated":{"line":1,"column":1169}},{"source":"interactTest.js","name":"style","original":{"line":119,"column":11},"generated":{"line":1,"column":1171}},{"source":"interactTest.js","name":"webkitTransform","original":{"line":119,"column":17},"generated":{"line":1,"column":1177}},{"source":"interactTest.js","name":"target","original":{"line":120,"column":6},"generated":{"line":1,"column":1193}},{"source":"interactTest.js","name":"style","original":{"line":120,"column":13},"generated":{"line":1,"column":1195}},{"source":"interactTest.js","name":"transform","original":{"line":120,"column":19},"generated":{"line":1,"column":1201}},{"source":"interactTest.js","name":"x","original":{"line":121,"column":17},"generated":{"line":1,"column":1211}},{"source":"interactTest.js","name":"x","original":{"line":121,"column":17},"generated":{"line":1,"column":1220}},{"source":"interactTest.js","name":"x","original":{"line":121,"column":17},"generated":{"line":1,"column":1227}},{"source":"interactTest.js","original":{"line":119,"column":4},"generated":{"line":1,"column":1229}},{"source":"interactTest.js","name":"console","original":{"line":123,"column":4},"generated":{"line":1,"column":1236}},{"source":"interactTest.js","name":"log","original":{"line":123,"column":12},"generated":{"line":1,"column":1244}},{"source":"interactTest.js","original":{"line":123,"column":16},"generated":{"line":1,"column":1248}},{"source":"interactTest.js","name":"target","original":{"line":124,"column":4},"generated":{"line":1,"column":1269}},{"source":"interactTest.js","name":"style","original":{"line":124,"column":11},"generated":{"line":1,"column":1271}},{"source":"interactTest.js","name":"webkitTransform","original":{"line":124,"column":17},"generated":{"line":1,"column":1277}},{"source":"interactTest.js","name":"target","original":{"line":125,"column":6},"generated":{"line":1,"column":1293}},{"source":"interactTest.js","name":"style","original":{"line":125,"column":13},"generated":{"line":1,"column":1295}},{"source":"interactTest.js","name":"transform","original":{"line":125,"column":19},"generated":{"line":1,"column":1301}},{"source":"interactTest.js","original":{"line":126,"column":8},"generated":{"line":1,"column":1311}},{"source":"interactTest.js","name":"x","original":{"line":126,"column":23},"generated":{"line":1,"column":1324}},{"source":"interactTest.js","original":{"line":126,"column":27},"generated":{"line":1,"column":1326}},{"source":"interactTest.js","name":"y","original":{"line":126,"column":36},"generated":{"line":1,"column":1333}},{"source":"interactTest.js","original":{"line":126,"column":40},"generated":{"line":1,"column":1335}},{"source":"interactTest.js","name":"target","original":{"line":135,"column":2},"generated":{"line":1,"column":1342}},{"source":"interactTest.js","name":"setAttribute","original":{"line":135,"column":9},"generated":{"line":1,"column":1344}},{"source":"interactTest.js","original":{"line":135,"column":22},"generated":{"line":1,"column":1357}},{"source":"interactTest.js","name":"x","original":{"line":135,"column":32},"generated":{"line":1,"column":1366}},{"source":"interactTest.js","name":"target","original":{"line":136,"column":2},"generated":{"line":1,"column":1369}},{"source":"interactTest.js","name":"setAttribute","original":{"line":136,"column":9},"generated":{"line":1,"column":1371}},{"source":"interactTest.js","original":{"line":136,"column":22},"generated":{"line":1,"column":1384}},{"source":"interactTest.js","name":"y","original":{"line":136,"column":32},"generated":{"line":1,"column":1393}},{"source":"interactTest.js","name":"window","original":{"line":140,"column":0},"generated":{"line":1,"column":1396}},{"source":"interactTest.js","name":"dragMoveListener","original":{"line":140,"column":7},"generated":{"line":1,"column":1403}},{"source":"interactTest.js","name":"dragMoveListener","original":{"line":140,"column":26},"generated":{"line":1,"column":1420}}],"sources":{"interactTest.js":"import interact from 'interactjs';\r\n\r\nvar angleScale = {\r\n  angle: 0,\r\n  scale: 1\r\n}\r\n\r\nvar gestureAreas = document.getElementsByClassName(`gesture-area`)\r\nvar scaleElements = document.getElementsByClassName(`scale-element`)\r\n\r\n// let pressingCtrl = false;\r\n\r\n// document.addEventListener('keydown', e => {\r\n//   let key = e.which || e.keyCode;\r\n//   if (key === 17) pressingCtrl = true;\r\n// });\r\n\r\n// console.log(pressingCtrl);\r\n\r\nexport function PhotoInteract() {\r\n  for (let i = 0; i < gestureAreas.length; i++) {\r\n    console.log(\"running\");\r\n    let gestureArea = gestureAreas[i];\r\n    let scaleElement = scaleElements[i];\r\n    interact(gestureArea)\r\n    .gesturable({\r\n      onstart: function (event) {\r\n        angleScale.angle -= event.angle\r\n      },\r\n      onmove: function (event) {\r\n        resizeElement(event, scaleElement);\r\n      },\r\n      onend: function (event) {\r\n        angleScale.angle = angleScale.angle + event.angle\r\n        angleScale.scale = angleScale.scale * event.scale\r\n      }\r\n    })\r\n    .draggable({\r\n      // FIX THIS!!!!\r\n      onstart: e => {\r\n        angleScale.angle -= event.angle\r\n      },\r\n      onmove: event => {\r\n        // document.addEventListener('keydown', e => {\r\n        //   let key = e.which || e.keyCode;\r\n        //   if (key === 17) mouseResize(event, scaleElement);\r\n        // });\r\n        dragMoveListener(event);\r\n      },\r\n      onend: e => {\r\n        angleScale.angle = angleScale.angle + event.angle\r\n        angleScale.scale = angleScale.scale * event.scale\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n// function mouseResize(event, scaleElmnt) {\r\n//   var target = event.target;\r\n//   let pressingCtrl = false;\r\n\r\n//   var x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx\r\n//   var y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy\r\n\r\n//   // translate the element\r\n//   document.addEventListener('keydown', e => {\r\n//     let key = e.which || e.keyCode;\r\n//     if (key === 17) pressingCtrl = true;\r\n//   });\r\n\r\n//   if (pressingCtrl) {\r\n//     target.style.webkitTransform =\r\n//       target.style.transform =\r\n//         `scale(${x})`\r\n//   } else {\r\n//     target.style.webkitTransform =\r\n//       target.style.transform =\r\n//         'translate(' + x + 'px, ' + y + 'px)'\r\n//   }\r\n\r\n//   // update the posiion attributes\r\n//   target.setAttribute('data-x', x)\r\n//   target.setAttribute('data-y', y)\r\n// }\r\n\r\nfunction resizeElement (event, scaleElmnt) {\r\n  // console.log(event.angle);\r\n  // document.body.appendChild(new Text(event.scale))\r\n  console.log(\"running resizeElement\");\r\n  var currentAngle = event.angle + angleScale.angle\r\n  var currentScale = event.scale * angleScale.scale\r\n\r\n  scaleElmnt.style.webkitTransform =\r\n  scaleElmnt.style.transform =\r\n    'rotate(' + currentAngle + 'deg)' + 'scale(' + currentScale + ')'\r\n\r\n  // uses the dragMoveListener from the draggable demo above\r\n  \r\n  dragMoveListener(event)\r\n}\r\n\r\nfunction dragMoveListener (event) {\r\n  var target = event.target;\r\n  let pressingCtrl = false;\r\n\r\n  let child = target.children[0];\r\n\r\n  var x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx\r\n  var y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy\r\n\r\n  // translate the element\r\n  child.addEventListener('keydown', e => {\r\n    let key = e.which || e.keyCode;\r\n    if (key === 17) {console.log(\"in here\"); pressingCtrl = true;}\r\n  });\r\n\r\n  if (pressingCtrl) {\r\n    console.log(\"pressing ctrl\");\r\n    target.style.webkitTransform =\r\n      target.style.transform =\r\n        `scale(${x})`\r\n  } else {\r\n    console.log(\"not pressing ctrl\");\r\n    target.style.webkitTransform =\r\n      target.style.transform =\r\n        'translate(' + x + 'px, ' + y + 'px)'\r\n  }\r\n\r\n  // // translate the element\r\n  // target.style.webkitTransform =\r\n  //   target.style.transform =\r\n  //     'translate(' + x + 'px, ' + y + 'px)'\r\n\r\n  // update the posiion attributes\r\n  target.setAttribute('data-x', x)\r\n  target.setAttribute('data-y', y)\r\n}\r\n\r\n// this is used later in the resizing and gesture demos\r\nwindow.dragMoveListener = dragMoveListener"},"lineCount":null}},"error":null,"hash":"43ae5f18fbc359e091f5dcc8b3a1c274","cacheData":{"env":{}}}